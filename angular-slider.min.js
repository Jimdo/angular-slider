// Generated by CoffeeScript 1.6.3
(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m;e="uiSlider",t="slider",n=function(e){return angular.element(e)},c=function(e){return""+e+"px"},o=function(e){return e.css({opacity:0})},d=function(e){return e.css({opacity:1})},f=function(e,t){return e.css({left:t})},s=function(e){return e[0].offsetWidth/2},l=function(e){return e[0].offsetLeft},m=function(e){return e[0].offsetWidth},i=function(e,t){return l(t)-l(e)-m(e)},r=function(e,t){return e.attr("ng-bind-html-unsafe",t)},p=function(e,t,n,r){var i,s,o,u;return r==null&&(r=0),n==null&&(n=1/Math.pow(10,t)),s=(e-r)%n,u=s>n/2?e+n-s:e-s,i=Math.pow(10,t),o=u*i/i,o.toFixed(t)},u={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend"}},v=function(e){return{restrict:"EA",scope:{floor:"@",ceiling:"@",step:"@",precision:"@",ngModel:"=?",ngModelLow:"=?",ngModelHigh:"=?",translate:"&"},template:'<span class="bar"></span><span class="bar selection"></span><span class="pointer"></span><span class="pointer"></span><span class="bubble selection"></span><span ng-bind-html-unsafe="translate({value: floor})" class="bubble limit"></span><span ng-bind-html-unsafe="translate({value: ceiling})" class="bubble limit"></span><span class="bubble"></span><span class="bubble"></span><span class="bubble"></span>',compile:function(t,a){var h,v,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D;a.translate&&a.$set("translate",""+a.translate+"(value)"),T=a.ngModel==null&&a.ngModelLow!=null&&a.ngModelHigh!=null,_=function(){var e,r,i,s;i=t.children(),s=[];for(e=0,r=i.length;e<r;e++)g=i[e],s.push(n(g));return s}(),b=_[0],k=_[1],x=_[2],S=_[3],L=_[4],y=_[5],h=_[6],E=_[7],w=_[8],v=_[9],C=T?"ngModelLow":"ngModel",N="ngModelHigh",r(L,"'Range: ' + translate({value: diff})"),r(E,"translate({value: "+C+"})"),r(w,"translate({value: "+N+"})"),r(v,"translate({value: "+C+"}) + ' - ' + translate({value: "+N+"})");if(!T){D=[k,S,L,w,v];for(O=0,M=D.length;O<M;O++)t=D[O],t.remove()}return A=[C,"floor","ceiling"],T&&A.push(N),{post:function(t,r,a){var g,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W;O=!1,B=n(document),a.translate||(t.translate=function(e){return e.value}),I="default",angular.isUndefined(a.sliderStyleNone)||(I=null),F=g=P=_=H=D=R=j=void 0,M=function(){var e,n,r;t.precision==null&&(t.precision=0),t.step==null&&(t.step=1);for(n=0,r=A.length;n<r;n++)e=A[n],t[e]=p(parseFloat(t[e]),parseInt(t.precision),parseFloat(t.step),parseFloat(t.floor));return t.diff=p(t[N]-t[C],parseInt(t.precision),parseFloat(t.step),parseFloat(t.floor)),F=s(x),g=m(b),P=0,_=g-m(x),H=parseFloat(a.floor),D=parseFloat(a.ceiling),R=D-H,j=_-P},q=function(){var e,n,a,b,A,D,I,q;M(),b=function(e){return(e-P)/j*100},D=function(e){return(e-H)/R*100},A=function(e){return c(e*j/100)},a=function(e){return f(e,c(Math.min(Math.max(0,l(e)),g-m(e))))},q=function(){var e,n;f(h,c(g-m(h))),n=D(t[C]),f(x,A(n)),f(E,c(l(x)-s(E)+F));if(T)return e=D(t[N]),f(S,A(e)),f(w,c(l(S)-s(w)+F)),f(k,c(l(x)+F)),k.css({width:A(e-n)}),f(L,c(l(k)+s(k)-s(L))),f(v,c(l(k)+s(k)-s(v)))},e=function(){var e;return a(E),e=w,T&&(a(w),a(L),i(E,w)<10?(o(E),o(w),a(v),d(v),e=v):(d(E),d(w),o(v),e=w)),i(y,E)<5?o(y):T?i(y,e)<5?o(y):d(y):d(y),i(E,h)<5?o(h):T?i(e,h)<5?o(h):d(h):d(h)},n=function(e,n,i){var s,o,u;return s=function(){return e.removeClass("active"),B.unbind(i.move),B.unbind(i.end)},o=function(e){var i,s,o,u;return i=e.clientX||e.touches[0].clientX,s=i-r[0].getBoundingClientRect().left-F,s=Math.max(Math.min(s,_),P),o=b(s),u=H+R*o/100,T&&(n===C?u>t[N]&&(n=N,x.removeClass("active"),S.addClass("active")):u<t[C]&&(n=C,S.removeClass("active"),x.addClass("active"))),u=p(u,parseInt(t.precision),parseFloat(t.step),parseFloat(t.floor)),t[n]=u,t.$apply()},u=function(t){return e.addClass("active"),M(),t.stopPropagation(),t.preventDefault(),B.bind(i.move,o),B.bind(i.end,s)},e.bind(i.start,u)},I=function(){var e,t,r,i,s,o;O=!0,e=function(e){return n(x,C,u[e]),n(S,N,u[e])},s=["touch","mouse"],o=[];for(r=0,i=s.length;r<i;r++)t=s[r],o.push(e(t));return o},q(),e();if(!O)return I()},e(q);for(z=0,W=A.length;z<W;z++)U=A[z],t.$watch(U,q);window.addEventListener("resize",q);if(I)return r.addClass(I)}}}}},h=["$timeout",v],a=function(n,r){return r.module(e,[]).directive(t,h)},a(window,window.angular)}).call(this);